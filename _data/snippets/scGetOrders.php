id: 28
name: scGetOrders
description: 'Gets the orders which belongs to the user which currently is logged in'
category: SimpleCart
properties: 'a:21:{s:8:"outerTpl";a:7:{s:4:"name";s:8:"outerTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:8:"scOrders";s:7:"lexicon";N;s:4:"area";s:0:"";}s:6:"rowTpl";a:7:{s:4:"name";s:6:"rowTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:11:"scOrdersRow";s:7:"lexicon";N;s:4:"area";s:0:"";}s:9:"detailTpl";a:7:{s:4:"name";s:9:"detailTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:14:"scOrdersDetail";s:7:"lexicon";N;s:4:"area";s:0:"";}s:15:"detailVatRowTpl";a:7:{s:4:"name";s:15:"detailVatRowTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:20:"scOrdersDetailVatRow";s:7:"lexicon";N;s:4:"area";s:0:"";}s:12:"detailRowTpl";a:7:{s:4:"name";s:12:"detailRowTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:17:"scOrdersDetailRow";s:7:"lexicon";N;s:4:"area";s:0:"";}s:19:"detailRowOptionsTpl";a:7:{s:4:"name";s:19:"detailRowOptionsTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:24:"scOrdersDetailRowOptions";s:7:"lexicon";N;s:4:"area";s:0:"";}s:20:"detailRowPropertyTpl";a:7:{s:4:"name";s:20:"detailRowPropertyTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:25:"scOrdersDetailRowProperty";s:7:"lexicon";N;s:4:"area";s:0:"";}s:14:"detailResource";a:7:{s:4:"name";s:14:"detailResource";s:4:"desc";s:0:"";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";N;s:4:"area";s:0:"";}s:9:"detailKey";a:7:{s:4:"name";s:9:"detailKey";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:5:"order";s:7:"lexicon";N;s:4:"area";s:0:"";}s:5:"limit";a:7:{s:4:"name";s:5:"limit";s:4:"desc";s:0:"";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:0;s:7:"lexicon";N;s:4:"area";s:0:"";}s:6:"offset";a:7:{s:4:"name";s:6:"offset";s:4:"desc";s:0:"";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:0;s:7:"lexicon";N;s:4:"area";s:0:"";}s:8:"totalVar";a:7:{s:4:"name";s:8:"totalVar";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:5:"total";s:7:"lexicon";N;s:4:"area";s:0:"";}s:17:"placeholderPrefix";a:7:{s:4:"name";s:17:"placeholderPrefix";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:6:"order.";s:7:"lexicon";N;s:4:"area";s:0:"";}s:11:"useComments";a:7:{s:4:"name";s:11:"useComments";s:4:"desc";s:0:"";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";N;s:4:"area";s:0:"";}s:21:"commentsLoadCreatedBy";a:7:{s:4:"name";s:21:"commentsLoadCreatedBy";s:4:"desc";s:0:"";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";N;s:4:"area";s:0:"";}s:17:"detailCommentsTpl";a:7:{s:4:"name";s:17:"detailCommentsTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:22:"scOrdersDetailComments";s:7:"lexicon";N;s:4:"area";s:0:"";}s:20:"detailCommentsRowTpl";a:7:{s:4:"name";s:20:"detailCommentsRowTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:25:"scOrdersDetailCommentsRow";s:7:"lexicon";N;s:4:"area";s:0:"";}s:21:"detailCommentsFormTpl";a:7:{s:4:"name";s:21:"detailCommentsFormTpl";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:26:"scOrdersDetailCommentsForm";s:7:"lexicon";N;s:4:"area";s:0:"";}s:12:"commentField";a:7:{s:4:"name";s:12:"commentField";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:7:"comment";s:7:"lexicon";N;s:4:"area";s:0:"";}s:14:"commentsSortBy";a:7:{s:4:"name";s:14:"commentsSortBy";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:15:"created ASC, id";s:7:"lexicon";N;s:4:"area";s:0:"";}s:15:"commentsSortDir";a:7:{s:4:"name";s:15:"commentsSortDir";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:3:"ASC";s:7:"lexicon";N;s:4:"area";s:0:"";}}'

-----

/**
 * Gets the orders which belongs to the user which currently is logged in
 *
 * @author Bert Oost at OostDesign <support@modxsimplecart.com>
 * @package simplecart
 */
$sc = $modx->getService('simplecart','SimpleCart',$modx->getOption('simplecart.core_path',null,$modx->getOption('core_path').'components/simplecart/').'model/simplecart/',$scriptProperties);
if (!($sc instanceof SimpleCart)) return '';

$controller = $sc->loadController('Order');
$controller->setAction('list');
$output = $controller->run($scriptProperties);

return $output;